---
description: Небольшой урок об использовании программы MapCleaner.
---

# Руководство по использованию программы MapCleaner

Всем безумный привет! Если знаете о программе MapCleaner для GTA SA, то наверняка столкнулись с проблемой, когда при загрузки игры монитор начинал мерцать, что вызывало только раздражение. Если в первые слышите об этой программе, то самое время поговорить о ней.

Эта программа предназначена для полной очистки стандартной карты от всех объектов, размещённых на карте. Иными словами - стереть всё и оставить только воду. Итак, начнём!

Скажу сразу, что существует масса способов очистки карты и у каждого она могла работать по разному. Я приведу пример моей версии очистки карты с использованием моего так сказать "дополнения" к программе MapCleaner.

Для начала скачиваем [этот архив](https://github.com/wmysterio/scm-scripting-lessons/raw/resources/\_ld/6/688\_MapCleaner\_0.5-.rar) и только этот. В нём содержатся все необходимые файлы как дополнение к программе. Извлеките содержимое в любое удобное для Вас место. Далее сделайте копию Вашей GTA SA, чтобы уберечь её от случайного ненужного действия или лучше всего установите чистую с CD-диска или ISO-образа, так как моды могут вызывать ошибки в новой карте, к ошибке которых не виноват MapCleaner. После этого запускаем наш клинер:\


![](https://github.com/wmysterio/scm-scripting-lessons/raw/resources/\_pu/2/61329924.jpg)

Сразу же нажимаем на кнопку `Browse for Game Directory` и указываем путь к папке, где лежит gta\_sa.exe, карту которого нужно очистить и нажимаем **Ок**. Далее перейдите во вкладку "Objects". Здесь нужно установить флажки над теми файлами, что нужно оставить в игре. В нашем случае нужно поставить флажки над следующими файлами:

```
IDE DATA\MAPS\generic\vegepart.IDE
IDE DATA\MAPS\generic\barriers.IDE
IDE DATA\MAPS\generic\dynamic.IDE
IDE DATA\MAPS\generic\dynamic2.IDE
IDE DATA\MAPS\generic\multiobj.IDE
IDE DATA\MAPS\generic\procobj.IDE
IDE DATA\MAPS\leveldes\levelmap.IDE
IDE DATA\MAPS\leveldes\levelxre.IDE
```

Со всех остальных файлов флажки должны быть сняты! Долее нажимаем "Start" и ждём пока программа сделает очистку. После чистки должно появится окно с надписью "Do you want to apply changes?". Нажимаем "Да", чтобы программа удалила лишние объекты с gta3.img. После того, как процесс завершился смело закрываем программу.

Следующим шагом будет замена существующих файлов на те, что были скачаны в архиве:

1. Первым делом нужно поместить файлы из архива "Заменить в GTA SA/data/script/main.scm" и "Заменить в GTA SA/data/script/script.img" в папку "ВАША\_ГТА\data\script" и подтвердить замену. Эти файлы отвечают за сценарий игры. В нашем случаи он будет пустой - без миссий и прочих возможностей.\

2. Далее переместите файлы "Заменить в GTA SA\data\gta.dat" и "Заменить в GTA SA\data\water.dat" в папку "ВАША\_ГТА\data".\

3. Далее откройте папку "ВАША\_ГТА\data\maps" и удалите там ВСЕ файлы! После этого переместите содержимое папки "Заменить в GTA SA\data\maps" в очищенную нами папку "ВАША\_ГТА\data\maps".

Последним шагом будет добавление в gta3.img тестовый остров. Откройте файл "ВАША\_ГТА\models\gta3.img" любым IMG-редактором, например GTA-SA Crazy IMG Editor ([урок](000100.md)) и добавьте в него файлы "Добавить в GTA3.IMG\terrain001.col", "Добавить в GTA3.IMG\terrain001.dff" и "Добавить в GTA3.IMG\terrain001.txd". Не забудьте сохранить IMG архив в редакторе! Некоторые так спешат, что забывают это делать :)

Итак, карта очищена, тестовый объект добавлен. Осталось проверить! Запускам игру и нажимаем "НОВАЯ ИГРА", старые сейвы не будут работать! Нужно редактировать файлы сценариев, чтобы можно было сохранить игру, но это тема уже другого урока. Наша задача - очистить карту :)

На этом урок, пожалуй, можно закончить. Удачи в глобальных модах, ведь чистка карты, как правило, для этой цели создавалась ![smile](http://s49.ucoz.net/sm/15/smile.gif) С Вами был wmysterio!

P.S. В архиве также есть папка "Заменить в GTA3.IMG". В ней находятся пустые пути для пешеходов и авто. Если заменить оригинальные файлы на те, что в архиве с программой, то Вы очистите ещё и все маршруты.

P.P.S. В файлах "ВАША\_ГТА\data\maps\generic.ide" и "ВАША\_ГТА\data\maps\generic.ipl" собраны все не удалённые объекты: зоны, аудио-зоны, части машин и прочие объекты. Но рекомендую добавлять новые объекты в файлы, что находятся в папках: "IDE"и  "IPL" соответственно.

P.P.P.S. Файлы "ВАША\_ГТА\data\txdcut.ide", "ВАША\_ГТА\data\map.zon" и "ВАША\_ГТА\data\info.zon" можно вовсе удалить с папки "ВАША\_ГТА\data", так их содержимое уже прописано в "ВАША\_ГТА\data\maps\generic.ide".

P.P.P.P.S В архиве также есть список свободных ID, который Вы можете использовать для заполнения Вашими объектами.



Автор: **wmysterio**
